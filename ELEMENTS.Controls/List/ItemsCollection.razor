@typeparam TItem
@using System.Diagnostics.CodeAnalysis


<div class="@ControlCSS">

    @if (Header != null)
    {
        <div class="@HeaderCSS">@Header</div>
    }

<div class="@BodyCSS">
    @foreach (var item in Items)
    {
        @if (RowTemplate != null)
        {
            @RowTemplate(item)
        }
        @if (RowTemplate == null)
        {
            <div class="row">
                <div class="col">Row Template is null</div>
            </div>
        }
    }

    @if (Items == null || Items.Count() == 0)
    {
        <div class="row border rounded p-2 m-2 bg-light">
            <div class="col">No Entries available.</div>
        </div>
    }
</div>

    @if (Footer != null)
    {
        <div class="@FooterCSS">@Footer</div>
    }
</div>

@code
{
    [Parameter]
    public string ControlCSS { get; set; } = "card";

    [Parameter]
    public string HeaderCSS { get; set; } = "card-header";

    [Parameter]
    public string FooterCSS { get; set; } = "bg-light p-2 border-top";

    [Parameter]
    public string BodyCSS { get; set; } = "card-body";

    [Parameter, AllowNull]
    public RenderFragment Header { get; set; }

    [Parameter, AllowNull]
    public RenderFragment Footer { get; set; }

    [Parameter, AllowNull]
    public RenderFragment<TItem> RowTemplate { get; set; }

    [Parameter, AllowNull]
    public IReadOnlyList<TItem> Items { get; set; }
}